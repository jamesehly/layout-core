{"version":3,"file":"./dist/layout-core.min.js","sources":["./dist/layout-core.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","VirtualElement_1","Element","id","set","_virtual","VirtualElement","_initial","_factual","_movable","_orientation","setup","_element","document","getElementById","children","Array","element","length","child","push","orientation","offsetHeight","size","style","height","offsetWidth","width","overflow","cssFloat","attr","getAttribute","draw","drawOverflow","drawFloat","virtual","match","Error","__extends","extendStatics","setPrototypeOf","__proto__","b","__","constructor","create","Element_1","RectElement","_super","drawWidth","drawHeight","Orientation","Layout","_elements","addElement","depth","parentElement","lie_ts_1","Animator","duration","step","_duration","_step","_rate","animate","start","_this","Date","now","Promise","resolve","_interval","window","setInterval","deltaTime","timePassed","progress","delta","clearInterval","HorizontalLayout_1","VerticalLayout_1","FillElement_1","LayoutFactory","createVerticalLayout","FillElement","layout","VerticalLayout","createHorizontalLayout","HorizontalLayout","Layout_1","RectElement_1","IOriented_1","fixedChildren","perctChildren","fluidChildren","totalWidth","parseFloat","fluidWidth","perctWidth","totalHeight","_i","_a","el","_b","_c","width_1","initial","_d","_e","childElement","Horizontal","fluidHeight","perctHeight","height_1","Vertical","_unwrap","promise","func","setTimeout","returnValue","apply","e","_handlers","_reject","TypeError","_resolve","_getThen","obj","then","arguments","_safelyResolveThenable","self","thenable","onError","called","onSuccess","tryToUnwrap","result","_tryCatch","_status","_value","values","out","_INTERNAL","_REJECTED","_FULFILLED","_PENDING","resolver","_state","_queue","_outcome","onRejected","onFulfilled","_QueueItem","reject","reason","all","iterable","allResolver","resolveFromAll","outValue","resolved","len","error","race","response","isArray","_promise","_onFulfilled","_callFulfilled","_otherCallFulfilled","_onRejected","_callRejected","_otherCallRejected","__export","LayoutFactory_1","Animator_1","Api","reset","_layouts","attachEvent","addEventListener","stop","init","disableStart","layouts","querySelectorAll","type","add","order","sort","layoutA","layoutB","_factory","identifier","options","option","find","movable","elements","changedElements","elementStore","changedElements_1","el_1","animator","changedElements_2","el_2","factual","to","parseInt","from","animationStart","open","undefined","close"],"mappings":"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"}