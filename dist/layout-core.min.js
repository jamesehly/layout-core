/*! Layout Framework: Core v0.1.0 - Copyright 2017 James Ehly - MIT License https://layoutframework.com/license */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports._layout_core=e():t._layout_core=e()}(this,function(){return function(t){function e(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(7),n=function(){function t(t){this.set(t),this._virtual=new i.VirtualElement,this._initial=new i.VirtualElement,this._factual=new i.VirtualElement,this._movable=new i.VirtualElement,this._orientation=null,this.setup()}return t.prototype.get=function(){return this._element},t.prototype.set=function(t){this._element=document.getElementById(t)},Object.defineProperty(t.prototype,"element",{get:function(){return this.get()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtual},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initial",{get:function(){return this._initial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"factual",{get:function(){return this._factual},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"movable",{get:function(){return this._movable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){for(var t=new Array,e=0;e<this.element.children.length;e++){var r=this._element.children[e];r.id||(r.id=this._element.id+"-child-"+e),t.push(document.getElementById(r.id))}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._element.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._element.offsetHeight+"px"},set:function(t){this._element.style.height=t,this._factual.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._element.offsetWidth+"px"},set:function(t){this._element.style.width=t,this._factual.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overflow",{get:function(){return this._element.style.overflow},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"float",{get:function(){return this._element.style.cssFloat},enumerable:!0,configurable:!0}),t.prototype.attr=function(t){return this._element.getAttribute(t)},t.prototype.draw=function(){this.drawOverflow(),this.drawFloat()},t.prototype.setup=function(){var t=this.attr("data-size"),e=this.attr("data-height")||t,r=this.attr("data-width")||t;this._initial.height=this._virtual.height=e||"100%",this._initial.width=this._virtual.width=r||"100%",this._initial.overflow=this._virtual.overflow=this.attr("data-overflow")||"hidden"},t.prototype.drawOverflow=function(){if(this.virtual.overflow){if(!this._virtual.overflow||!this._virtual.overflow.match(/visible|hidden|scroll|auto|inherit|initial|unset/))throw new Error("Element's overflow style does not match a css overflow type.");this._element.style.overflow=this._virtual.overflow,this._factual.overflow=this._virtual.overflow}},t.prototype.drawFloat=function(){if(this.virtual["float"]){if(!this._virtual["float"]||!this._virtual["float"].match(/left|right|none|inherit|initial/))throw new Error("Element's float style does not match a css float type.");this._element.style.cssFloat=this._virtual["float"],this._factual["float"]=this._virtual["float"]}},t}();e.Element=n},function(t,e,r){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.drawWidth(),this.drawHeight()},e.prototype.drawWidth=function(){if(this.virtual.width)if(this.virtual.width.match(/^(\d*\.)?[\d]+px|%$/))this.width=this.virtual.width;else{if(!this.virtual.width.match(/^[\d]+$/))throw new Error("Element width is not a css pixel or percentage width or a number.");this.width=this.virtual.width+"px"}},e.prototype.drawHeight=function(){if(this.virtual.height)if(this.virtual.height.match(/^(\d*\.)?[\d]+px|%$/))this.height=this.virtual.height;else{if(!this.virtual.height.match(/^[\d]+$/))throw new Error("Element height is not a css pixel or percentage width or a number.");this.height=this.virtual.height+"px"}},e}(n.Element);e.RectElement=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r;!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(r=e.Orientation||(e.Orientation={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._element=t,this._elements={}}return t.prototype.addElement=function(t){this._elements[t.id]=t},Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t}();e.Layout=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(10),n=function(){function t(t,e){this._duration=t||200,this._step=e,this._rate=16}return t.prototype.animate=function(t){var e=this;return void 0===t&&(t=Date.now()),new i.Promise(function(r){e._interval=window.setInterval(function(){var i=Date.now(),n=i-t,o=n/e._duration;o>1&&(o=1);var a=o;e._step(a),1==o&&(clearInterval(e._interval),r(!0))},e._rate)})},t}();e.Animator=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),n=r(9),o=r(6),a=function(){function t(){}return t.prototype.createVerticalLayout=function(t){var e=new o.FillElement(t),r=new n.VerticalLayout(e);return r.setup(),r},t.prototype.createHorizontalLayout=function(t){var e=new o.FillElement(t),r=new i.HorizontalLayout(e);return r.setup(),r},t}();e.LayoutFactory=a},function(t,e,r){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.width=this.element.parentElement.offsetWidth+"px",this.height=this.element.parentElement.offsetHeight+"px"},e}(n.Element);e.FillElement=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.VirtualElement=r},function(t,e,r){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=r(3),o=r(1),a=r(2),l=function(t){function e(e){var r=t.call(this,e)||this;return r.fixedChildren=new Array,r.perctChildren=new Array,r.fluidChildren=new Array,r}return i(e,t),e.prototype.draw=function(){this.element.draw();for(var t=parseFloat(this.element.width),e=t,r=0,i=this.element.height,n=0,o=this.fixedChildren;n<o.length;n++){var a=o[n];e-=parseFloat(a.virtual.width),a.virtual.height=i,a.draw()}for(var l=0,u=this.perctChildren;l<u.length;l++){var a=u[l],h=parseFloat(a.initial.width)/100*e;a.virtual.width=h+"px",r+=h,a.virtual.height=i,a.draw()}e-=r;for(var s=0,c=this.fluidChildren;s<c.length;s++){var a=c[s],f=e/this.fluidChildren.length;a.virtual.width=f+"px",a.virtual.height=i,a.draw()}},e.prototype.setup=function(){for(var t=0,e=this.element.children;t<e.length;t++){var r=e[t],i=new o.RectElement(r.id);i.orientation=a.Orientation.Horizontal,"100%"===i.initial.width?this.fluidChildren.push(i):i.initial.width.match(/^[\d]+%$/)?this.perctChildren.push(i):this.fixedChildren.push(i),i.virtual["float"]="left",this.addElement(i)}},e}(n.Layout);e.HorizontalLayout=l},function(t,e,r){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=r(3),o=r(1),a=r(2),l=function(t){function e(e){var r=t.call(this,e)||this;return r.fixedChildren=new Array,r.perctChildren=new Array,r.fluidChildren=new Array,r}return i(e,t),e.prototype.draw=function(){this.element.draw();for(var t=parseFloat(this.element.height),e=t,r=0,i=this.element.width,n=0,o=this.fixedChildren;n<o.length;n++){var a=o[n];e-=parseFloat(a.virtual.height),a.virtual.width=i,a.draw()}for(var l=0,u=this.perctChildren;l<u.length;l++){var a=u[l],h=parseFloat(a.initial.height)/100*e;a.virtual.height=h+"px",r+=h,a.virtual.width=i,a.draw()}e-=r;for(var s=0,c=this.fluidChildren;s<c.length;s++){var a=c[s],f=e/this.fluidChildren.length;a.virtual.height=f+"px",a.virtual.width=i,a.draw()}},e.prototype.setup=function(){for(var t=0,e=this.element.children;t<e.length;t++){var r=e[t],i=new o.RectElement(r.id);i.orientation=a.Orientation.Vertical,"100%"===i.initial.height?this.fluidChildren.push(i):i.initial.height.match(/^[\d]+%$/)?this.perctChildren.push(i):this.fixedChildren.push(i),i.virtual["float"]="left",this.addElement(i)}},e}(n.Layout);e.VerticalLayout=l},function(t,e){"use strict";function r(t,e,r){setTimeout(function(){var i;try{i=e.apply(null,r)}catch(n){return f._reject(t,n)}return i===t?f._reject(t,new TypeError):f._resolve(t,i),null})}function i(t){var e=t&&t.then;return!t||"object"!=typeof t&&"function"!=typeof t||"function"!=typeof e?null:function(){e.apply(t,arguments)}}function n(t,e){function r(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a||(a=!0,f._reject(t,e))}function i(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a||(a=!0,f._resolve(t,e))}function n(){e(i,r)}var a=!1,l=o(n);"error"===l._status&&r(l._value)}function o(t,e){var r={_status:null,_value:null};try{r._value=t(e),r._status="success"}catch(i){r._status="error",r._value=i}return r}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){},l=["R"],u=["F"],h=["P"],s=function(){function t(t){this._state=h,this._queue=[],this._outcome=void 0,t!==a&&n(this,t)}return t.prototype["catch"]=function(t){return this.then(function(){},t)},t.prototype.then=function(e,i){if("function"!=typeof e&&this._state===u||"function"!=typeof i&&this._state===l)return this;var n=new t(a);if(this._state!==h){var o=this._state===u?e:i;r(n,o,this._outcome)}else this._queue.push(new c(n,e,i));return n},t.resolve=function(e){return e instanceof this?e:f._resolve(new t(a),e)},t.reject=function(e){return f._reject(new t(a),e)},t.all=function(e){function r(t,e){function r(t){l[e]=t,++u!==n||o||(o=!0,f._resolve(s,l))}i.resolve(t).then(r,function(t){o||(o=!0,f._reject(s,t))})}var i=this,n=e.length,o=!1,l=new Array(n),u=0,h=-1,s=new t(a);if(!n)return this.resolve([]);for(;++h<n;)r(e[h],h);return s},t.race=function(e){function r(t){i.resolve(t).then(function(t){o||(o=!0,f._resolve(u,t))},function(t){o||(o=!0,f._reject(u,t))})}var i=this,n=e.length,o=!1,l=-1,u=new t(a);if(Array.isArray(e)!==!1)return this.reject(new TypeError);if(!n)return this.resolve([]);for(;++l<n;)r(e[l]);return u},t}();e.Promise=s;var c=function(){function t(t,e,r){this._promise=t,"function"==typeof e&&(this._onFulfilled=e,this._callFulfilled=this._otherCallFulfilled),"function"==typeof r&&(this._onRejected=r,this._callRejected=this._otherCallRejected)}return t.prototype._callFulfilled=function(t){f._resolve(this._promise,t)},t.prototype._otherCallFulfilled=function(t){r(this._promise,this._onFulfilled,t)},t.prototype._callRejected=function(t){f._reject(this._promise,t)},t.prototype._otherCallRejected=function(t){r(this._promise,this._onRejected,t)},t}();e._QueueItem=c;var f=function(){function t(){}return t._resolve=function(e,r){var a=o(i,r),l=a._value,h=-1,s=e._queue.length;if("error"===a._status)return t._reject(e,a._value);if(l)n(e,l);else for(e._state=u,e._outcome=r;++h<s;)e._queue[h]._callFulfilled(r);return e},t._reject=function(t,e){t._state=l,t._outcome=e;for(var r=-1,i=t._queue.length;++r<i;)t._queue[r]._callRejected(e);return t},t}()},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0});var n=r(5),o=r(4),a=r(2),l=function(){function t(){this.reset()}return Object.defineProperty(t.prototype,"layouts",{get:function(){return this._layouts},enumerable:!0,configurable:!0}),t.prototype.start=function(){var t=this;window.attachEvent?window.attachEvent("onresize",function(){t.draw()}):window.addEventListener&&window.addEventListener("resize",function(){t.draw()},!0),this.draw()},t.prototype.stop=function(){},t.prototype.reset=function(){this._factory=new n.LayoutFactory,this._layouts=new Array},t.prototype.add=function(t,e,r){if(void 0===e&&(e=null),void 0===r&&(r=null),e||(e="VerticalLayout"),!this._factory["create"+e])throw Error("create"+e+"() is not a method on LayoutFactory.  Check the API for methods on LayoutFactory.");if(null!==r)var i=this._factory["create"+e](t,r);else var i=this._factory["create"+e](t);this._layouts.push(i)},t.prototype.get=function(t){for(var e=0,r=this._layouts;e<r.length;e++){var i=r[e];if(i.element.id===t)return i}return null},t.prototype.set=function(t,e,r){var i=this.find(t);if(!i)throw new Error(t+" could not be found in the registered layouts.");switch(e){case"height":i.virtual.height=i.movable.height=r;break;case"width":i.virtual.width=i.movable.width=r;break;case"overflow":i.virtual.overflow=r}},t.prototype.find=function(t){for(var e=0,r=this._layouts;e<r.length;e++){var i=r[e];if(i.elements[t])return i.elements[t]}},t.prototype.draw=function(){for(var t=0,e=this._layouts;t<e.length;t++){var r=e[t];r.draw()}},t.prototype.animate=function(t){for(var e=this,r=Array(),i=0,n=this._layouts;i<n.length;i++){var a=n[i];for(var l in a.elements){var u=a.elements[l];(u.movable.height||u.movable.width)&&r.push(u)}}for(var h={},s=0,c=r;s<c.length;s++){var f=c[s];h[f.id]=[f.height,f.width]}{var p=new o.Animator(t,function(t){if(0!==r.length){for(var i=0,n=r;i<n.length;i++){var o=n[i];if(o.movable.height&&o.movable.height!=o.factual.height){var a=parseInt(o.movable.height),l=parseInt(h[o.id][0]);o.virtual.height=(a-l)*t+l+"px"}else o.movable.height=null;if(o.movable.width&&o.movable.width!=o.factual.width){var a=parseInt(o.movable.width),l=parseInt(h[o.id][1]);o.virtual.width=(a-l)*t+l+"px"}else o.movable.width=null}e.draw()}});this.animationStart||null}return p.animate()},t.prototype.open=function(t,e){void 0===e&&(e=null);var r=this.find(t);if(!r)throw Error("Error opening element: element was not found.");if(null===r.orientation||void 0===r.orientation)throw Error("Error opening element: element does not have an orientation.");return r.orientation===a.Orientation.Horizontal?this.set(t,"width",r.initial.width):r.orientation===a.Orientation.Vertical&&this.set(t,"height",r.initial.height),this.animate(e)},t.prototype.close=function(t,e){void 0===e&&(e=null);var r=this.find(t);if(!r)throw Error("Error closing element: element was not found.");if(null===r.orientation||void 0===r.orientation)throw Error("Error closing element: element does not have an orientation.");return r.orientation===a.Orientation.Horizontal?this.set(t,"width","0px"):r.orientation===a.Orientation.Vertical&&this.set(t,"height","0px"),this.animate(e)},t}();e.Api=l,i(r(0)),i(r(6)),i(r(1)),i(r(7)),i(r(3)),i(r(8)),i(r(9)),i(r(5)),i(r(4))}])});
//# sourceMappingURL=./dist/layout-core.min.js.map